<!DOCTYPE html>
<html>
<head>
    <title>W3.CSS Template</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="geoxml3.js"></script>
    <link rel="stylesheet" href="style.css">
    <style>
        html,body,h1,h2,h3,h4,h5 {font-family: "Raleway", sans-serif}
        .city {display:none}
    </style>

</head>
<body class="w3-dark-grey">

<!-- !PAGE CONTENT! -->
<div class="w3-main" style="margin-top:43px;">

    <!-- Header -->
    <header class="w3-container" style="padding-top:22px">
        <h1>La Tatsu'Map !</h1>
    </header>

    <!-- Map Google avec clé d'API de Jiesse-->
    <div id="map"></div>

    <!-- Fin de GoogleMap -->
    <div class="w3-container w3-center">
        <button onclick="document.getElementById('id01').style.display='block'" class="w3-btn w3-teal">Open here for info</button>

        <div id="id01" class="w3-modal">
            <div class="w3-modal-content w3-card-4 w3-animate-zoom">
                <header class="w3-container w3-blue">
                    <span onclick="document.getElementById('id01').style.display='none'"
                    class="w3-closebtn w3-padding-top">&times;</span>
                    <h2>Information</h2>
                </header>

                <ul class="w3-pagination w3-white w3-border-bottom" style="width:100%;">
                    <li><a href="#" class="tablink" onclick="openCity(event, 'Vent')">Vitesse Vent</a></li>
                    <li><a href="#" class="tablink" onclick="openCity(event, 'Air')">T° Air</a></li>
                    <li><a href="#" class="tablink" onclick="openCity(event, 'Vague')">Hauteur Vague</a></li>
                    <li><a href="#" class="tablink" onclick="openCity(event, 'Eau')">T° Eau</a></li>
                </ul>

                <div id="Vent" class="w3-container city">
                    <div class="graph" id="vitesseVent" style="margin: 10px; height: 400px; width: 45%;"></div>

                </div>

                <div id="Air" class="w3-container city">
                    <div class="graph" id="tempAir" style="margin: 10px; height: 400px; width: 45%;"></div>
                </div>

                <div id="Vague" class="w3-container city">
                    <div class="graph" id="hauteurVague" style="margin: 10px; height: 400px; width: 45%;"></div>
                </div>

                <div id="Eau" class="w3-container city">
                    <div class="graph" id="tempEau" style="margin: 10px; height: 400px; width: 45%;"></div>
                </div>

                <div class="w3-container w3-light-grey w3-padding">
                    <button class="w3-btn w3-right w3-white w3-border"
                            onclick="document.getElementById('id01').style.display='none'">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- End page content -->
</div>

</body>

<script src="http://canvasjs.com/assets/script/canvasjs.min.js"></script>

<script type="text/javascript">

    window.onload = function () {
        var chart = new CanvasJS.Chart("vitesseVent", {
            title:{
                text: "Vitesse du vent"
            },
            data: [
                {
                    // Change type to "doughnut", "line", "splineArea", etc.
                    type: "doughnut",
                    dataPoints: [
                        { label: "apple",  y: 10  },
                        { label: "orange", y: 15  },
                        { label: "banana", y: 25  },
                        { label: "mango",  y: 50  },
                        { label: "grape",  y: 28  },
                        { label: "test",   y: 50  }
                    ]
                }
            ]
        });
        var chart2 = new CanvasJS.Chart("tempAir", {
            title:{
                text: "Température de l'air"
            },
            data: [
                {
                    // Change type to "doughnut", "line", "splineArea", etc.
                    type: "spline",
                    dataPoints: [
                        { label: "apple",  y: 10  },
                        { label: "orange", y: 15  },
                        { label: "banana", y: 25  },
                        { label: "mango",  y: 50  },
                        { label: "grape",  y: 28  },
                        { label: "test",   y: 50  }
                    ]
                }
            ]
        });
        var chart3 = new CanvasJS.Chart("hauteurVague", {
            title:{
                text: "Hauteur des vagues"
            },
            data: [
                {
                    // Change type to "doughnut", "line", "splineArea", etc.
                    type: "line",
                    dataPoints: [
                        { label: "apple",  y: 10  },
                        { label: "orange", y: 15  },
                        { label: "banana", y: 25  },
                        { label: "mango",  y: 50  },
                        { label: "grape",  y: 28  },
                        { label: "test",   y: 50  }
                    ]
                }
            ]
        });
        var chart4 = new CanvasJS.Chart("tempEau", {
            title:{
                text: "Température de l'eau"
            },
            data: [
                {
                    // Change type to "doughnut", "line", "splineArea", etc.
                    type: "splineArea",
                    dataPoints: [
                        { label: "apple",  y: 10  },
                        { label: "orange", y: 15  },
                        { label: "banana", y: 25  },
                        { label: "mango",  y: 50  },
                        { label: "grape",  y: 28  },
                        { label: "test",   y: 50  }
                    ]
                }
            ]
        });
        chart.render();
        chart2.render();
        chart3.render();
        chart4.render();
    }
</script>

<script>
    function initMap() {
        // Create a map object and specify the DOM element for display.
        var map = new google.maps.Map(document.getElementById('map'), {
            center: {lat: 50.5039, lng: 4.4699},
            scrollwheel: false,
            zoom: 5
        });

        var parser = new geoXML3.parser({map: map, createMarker: createM});
        parser.parse('Navigate.kml');

        function createM(placemark){
            console.log(placemark);
            var markerOptions = {
                optimized: false,
                position: placemark.latlng,
                map: map
            };
            var marker = new google.maps.Marker(markerOptions);
            google.maps.event.addListener(marker, 'click', function(){
                console.log(placemark.latlng.lat());
            });
        }


    }
</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCaGvuJiGnbPaRl2y29c102oiQRAPB2b38&callback=initMap" async defer></script>

<script>
    document.getElementsByClassName("tablink")[0].click();

    function openCity(evt, cityName) {
        var i, x, tablinks;
        x = document.getElementsByClassName("city");
        for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablink");
        for (i = 0; i < x.length; i++) {
            tablinks[i].classList.remove("w3-light-grey");
        }
        document.getElementById(cityName).style.display = "block";
        evt.currentTarget.classList.add("w3-light-grey");
    }
</script>
</html>

